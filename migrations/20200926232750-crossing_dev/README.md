# Migration `20200926232750-crossing_dev`

This migration has been generated by Dennis Dang at 9/26/2020, 11:27:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."StoriesOnRaids" DROP CONSTRAINT IF EXiSTS "StoriesOnRaids_raidBossId_fkey",
DROP COLUMN "raidBossId";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200926213950-crossing_dev..20200926232750-crossing_dev
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "postgresql"
-    url = "***"
+    url      = "postgresql://postgres:postgres@localhost:5432/crossing_dev"
 }
 generator db {
     provider = "go run github.com/prisma/prisma-client-go"
@@ -53,9 +53,8 @@
     updatedAt         DateTime            @updatedAt
     name              String              @unique
     image             String?
     RaidBossesOnRaids RaidBossesOnRaids[]
-    StoriesOnRaids    StoriesOnRaids[]
 }
 model AvatarsOnRaids {
     createdAt DateTime  @default(now())
@@ -93,19 +92,17 @@
 }
 // A Raid may have multiple stories in succession
 model StoriesOnRaids {
-    createdAt  DateTime  @default(now())
-    deletedAt  DateTime?
-    updatedAt  DateTime  @updatedAt
-    raid       Raid      @relation(fields: [raidId], references: [id])
-    raidId     Int
-    story      Story     @relation(fields: [storyId], references: [id])
-    storyId    Int
-    raidBoss   RaidBoss  @relation(fields: [raidBossId], references: [id])
-    raidBossId Int
+    createdAt DateTime  @default(now())
+    deletedAt DateTime?
+    updatedAt DateTime  @updatedAt
+    raid      Raid      @relation(fields: [raidId], references: [id])
+    raidId    Int
+    story     Story     @relation(fields: [storyId], references: [id])
+    storyId   Int
-    @@id([raidId, storyId, raidBossId])
+    @@id([raidId, storyId])
 }
 // An Event represents a moment in a story in which Avatars can fulfill Actions
 model Event {
```


